{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","rel","target","Footer","Date","getFullYear","Preloader","GoodsItem","name","description","price","full_background","addToBasket","alt","src","onClick","style","fontSize","GoodsList","goods","length","map","el","Cart","quantity","handleBasketShow","BasketItem","deleteBasketItem","incrementQuantity","decrementQuantity","BasketList","order","totalPrice","reduce","acc","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","process","then","res","json","data","featured","item","itemIndex","findIndex","orderItem","newItem","newOrder","index","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f1a8b7a6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport function Header() {\r\n  return (\r\n    <nav className='cyan accent-4 nav'>\r\n      <div className='nav-wrapper'>\r\n        <a href='#!' className='brand-logo'>\r\n          React Shop\r\n        </a>\r\n        <ul id='nav-mobile' className='right hide-on-med-and-down'>\r\n          <li>\r\n            <a rel='noreferrer' target='_blank' href='https://github.com/piskarev06/react-shop'>\r\n              Repo\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport function Footer() {\r\n  return (\r\n    <footer className='page-footer cyan accent-5'>\r\n      <div className='container'>\r\n        © {new Date().getFullYear()} Copyright Text\r\n        <a\r\n          className='grey-text text-lighten-4 right'\r\n          target='_blank'\r\n          rel='noreferrer'\r\n          href='https://github.com/piskarev06/react-shop'>\r\n          Repo\r\n        </a>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport function Preloader() {\r\n  return (\r\n    <div className='progress'>\r\n      <div className='indeterminate'></div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport function GoodsItem({ id, name, description, price, full_background, addToBasket }) {\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-image'>\r\n        <img alt={name} src={full_background} />\r\n      </div>\r\n      <div className='card-content'>\r\n        <span className='card-title'>{name}</span>\r\n        <p>{description}</p>\r\n      </div>\r\n      <div className='card-action'>\r\n        <button\r\n          onClick={() =>\r\n            addToBasket({\r\n              id,\r\n              name,\r\n              price,\r\n            })\r\n          }\r\n          className='btn'>\r\n          Купить\r\n        </button>\r\n        <span style={{ fontSize: '1.5rem' }} className='right'>\r\n          {price} V-Bucks\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nimport { GoodsItem } from './GoodsItem'\r\n\r\nexport function GoodsList({ goods = [], addToBasket }) {\r\n  if (!goods.length) {\r\n    return <h3>Nothing here</h3>\r\n  }\r\n\r\n  return (\r\n    <div className='goods'>\r\n      {goods.map((el) => (\r\n        <GoodsItem addToBasket={addToBasket} key={el.id} {...el} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport function Cart({ quantity = 0, handleBasketShow }) {\r\n  return (\r\n    <div onClick={handleBasketShow} className='cart blue darken-3 white-text'>\r\n      <i className='material-icons'>shopping_cart</i>\r\n      {quantity ? <span className='cart-quantity'>{quantity}</span> : null}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport function BasketItem({\r\n  id,\r\n  name,\r\n  price,\r\n  quantity,\r\n  deleteBasketItem,\r\n  incrementQuantity,\r\n  decrementQuantity,\r\n}) {\r\n  return (\r\n    <li className='collection-item'>\r\n      {name}{' '}\r\n      {quantity === 1 ? (\r\n        <i onClick={() => deleteBasketItem(id)} className='material-icons basket-quantity'>\r\n          remove\r\n        </i>\r\n      ) : (\r\n        <i onClick={() => decrementQuantity(id)} className='material-icons basket-quantity'>\r\n          remove\r\n        </i>\r\n      )}{' '}\r\n      х{quantity}{' '}\r\n      <i onClick={() => incrementQuantity(id)} className='material-icons basket-quantity'>\r\n        add\r\n      </i>{' '}\r\n      = {price * quantity}\r\n      <span\r\n        onClick={() =>\r\n          incrementQuantity({\r\n            id,\r\n            name,\r\n            price,\r\n            quantity,\r\n          })\r\n        }>\r\n        {' '}\r\n        плюс\r\n      </span>\r\n      <span onClick={() => deleteBasketItem(id)} className='secondary-content'>\r\n        <i className='material-icons basket-delete'>close</i>\r\n      </span>\r\n    </li>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nimport { BasketItem } from './BasketItem'\r\n\r\nexport function BasketList({\r\n  order,\r\n  handleBasketShow,\r\n  deleteBasketItem,\r\n  incrementQuantity,\r\n  decrementQuantity,\r\n}) {\r\n  const totalPrice = order.reduce((acc, el) => {\r\n    return acc + el.price * el.quantity\r\n  }, 0)\r\n\r\n  return (\r\n    <ul className='collection basket-list'>\r\n      <li className='collection-item active'>Корзина</li>\r\n      {order.length ? (\r\n        order.map((el) => (\r\n          <BasketItem\r\n            decrementQuantity={decrementQuantity}\r\n            incrementQuantity={incrementQuantity}\r\n            deleteBasketItem={deleteBasketItem}\r\n            key={el.id}\r\n            {...el}\r\n          />\r\n        ))\r\n      ) : (\r\n        <li className='collection-item'>Корзина пуста</li>\r\n      )}\r\n      <li className='collection-item active'>Общая стоимость: {totalPrice} V-BUCKS</li>\r\n      <i onClick={handleBasketShow} className='material-icons basket-close'>\r\n        close\r\n      </i>\r\n    </ul>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\n\r\nexport function Alert({ name = '', closeAlert }) {\r\n  useEffect(() => {\r\n    const timerId = setTimeout(closeAlert, 3000)\r\n\r\n    return () => {\r\n      clearTimeout(timerId)\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [name])\r\n  return (\r\n    <div id='toast-container'>\r\n      <div className='toast'>{name} добавлен в корзину</div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { API_KEY, API_URL } from '../config'\r\n\r\nimport { Preloader } from './Preloader'\r\nimport { GoodsList } from './GoodsList'\r\nimport { Cart } from './Cart'\r\nimport { BasketList } from './BasketList'\r\nimport { Alert } from './Alert'\r\n\r\nexport function Shop() {\r\n  const [goods, setGoods] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [order, setOrder] = useState([])\r\n  const [isBasketShow, setBasketShow] = useState(false)\r\n  const [alertName, setAlertName] = useState('')\r\n\r\n  const incrementQuantity = (id) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.id === id) {\r\n        const newQuantity = el.quantity + 1\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity,\r\n        }\r\n      } else {\r\n        return el\r\n      }\r\n    })\r\n\r\n    setOrder(newOrder)\r\n  }\r\n\r\n  const decrementQuantity = (id) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.id === id) {\r\n        const newQuantity = el.quantity - 1\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity,\r\n        }\r\n      } else {\r\n        return el\r\n      }\r\n    })\r\n\r\n    setOrder(newOrder)\r\n  }\r\n\r\n  const addToBasket = (item) => {\r\n    const itemIndex = order.findIndex((orderItem) => orderItem.id === item.id)\r\n\r\n    if (itemIndex < 0) {\r\n      const newItem = {\r\n        ...item,\r\n        quantity: 1,\r\n      }\r\n\r\n      setOrder([...order, newItem])\r\n    } else {\r\n      const newOrder = order.map((orderItem, index) => {\r\n        if (index === itemIndex) {\r\n          return {\r\n            ...orderItem,\r\n            quantity: orderItem.quantity + 1,\r\n          }\r\n        } else {\r\n          return orderItem\r\n        }\r\n      })\r\n\r\n      setOrder(newOrder)\r\n    }\r\n    setAlertName(item.name)\r\n  }\r\n\r\n  const deleteBasketItem = (id) => {\r\n    setOrder(\r\n      order.filter((el) => {\r\n        return el.id !== id\r\n      }),\r\n    )\r\n  }\r\n\r\n  const handleBasketShow = () => {\r\n    setBasketShow(!isBasketShow)\r\n  }\r\n\r\n  const closeAlert = () => {\r\n    setAlertName('')\r\n  }\r\n\r\n  useEffect(function getGoods() {\r\n    fetch(API_URL, {\r\n      // prettier-ignore\r\n      headers: {\r\n        'Authorization': API_KEY,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        data.featured && setGoods(data.featured)\r\n        setLoading(false)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <main className='container content'>\r\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n      {loading ? <Preloader /> : <GoodsList addToBasket={addToBasket} goods={goods} />}\r\n      {isBasketShow && (\r\n        <BasketList\r\n          deleteBasketItem={deleteBasketItem}\r\n          order={order}\r\n          handleBasketShow={handleBasketShow}\r\n          incrementQuantity={incrementQuantity}\r\n          decrementQuantity={decrementQuantity}\r\n        />\r\n      )}\r\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\r\n    </main>\r\n  )\r\n}\r\n","export const API_KEY = process.env.REACT_APP_API_KEY\r\n\r\nexport const API_URL = 'https://fortniteapi.io/v1/shop?lang=ru'\r\n","import { Header } from './components/Header'\nimport { Footer } from './components/Footer'\nimport { Shop } from './components/Shop'\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}